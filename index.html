<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bijaylaxmi Sahoo | Atmospheric Scientist & Oceanographer</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        background: '#f8fafc',
                        surface: '#ffffff',
                        gisGreen: '#059669',
                        gisBlue: '#0284c7',
                        gisOrange: '#d97706',
                        gisPink: '#db2777',
                        gisPurple: '#7c3aed',
                        textMain: '#1e293b',
                        textMuted: '#475569',
                    },
                    fontFamily: {
                        sans: ['"Outfit"', 'sans-serif'],
                        display: ['"Space Grotesk"', 'sans-serif'],
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'fadeIn': 'fadeIn 0.5s ease-out forwards',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        .glass-panel {
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.05);
        }
        
        .glass-nav {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        body {
            background-image: url('https://images.unsplash.com/photo-1524661135-423995f22d0b?q=80&w=2074&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
        }
        
        .bg-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, rgba(248, 250, 252, 0.9), rgba(248, 250, 252, 0.7));
            z-index: -1;
        }

        .hover-card { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .hover-card:hover { transform: translateY(-5px); box-shadow: 0 20px 40px -15px rgba(0, 0, 0, 0.1); background: rgba(255, 255, 255, 0.95); }

        .text-gradient-main {
            background: linear-gradient(to right, #0284c7, #059669, #db2777);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .page-view { display: none; }
        .page-view.active { display: block; animation: fadeIn 0.5s ease-out forwards; }

        #mobile-menu { transition: max-height 0.3s ease-out, opacity 0.3s ease-out; max-height: 0; opacity: 0; overflow: hidden; }
        #mobile-menu.open { max-height: 550px; opacity: 1; }

        .modal-base { transition: opacity 0.3s ease; opacity: 0; pointer-events: none; }
        .modal-base.open { opacity: 1; pointer-events: auto; }
        .modal-content { transform: scale(0.95); transition: transform 0.3s ease; }
        .modal-base.open .modal-content { transform: scale(1); }

        /* Admin Tab Styles */
        .admin-nav-btn.active { background-color: rgba(2, 132, 199, 0.1); color: #0284c7; }
        
        /* Gallery Strip Style */
        .gallery-strip { transition: all 0.5s ease; width: 100%; }
        .gallery-strip:hover { width: 110%; }
    </style>
</head>
<body class="text-textMain font-sans overflow-x-hidden relative selection:bg-gisBlue selection:text-white min-h-screen flex flex-col">

    <div class="bg-overlay"></div>

    <!-- Navigation -->
    <nav class="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 w-[95%] max-w-5xl">
        <div class="glass-nav rounded-2xl px-4 py-3 md:px-6 md:py-4 flex justify-between items-center relative z-50">
            <a href="#" onclick="navigateTo('home')" class="flex items-center gap-2 group">
                <div class="w-8 h-8 md:w-10 md:h-10 rounded-lg bg-gradient-to-tr from-gisBlue to-gisGreen flex items-center justify-center text-white font-bold text-lg shadow-md group-hover:rotate-12 transition-transform">B</div>
                <span class="font-display font-bold text-lg md:text-xl tracking-tight text-textMain group-hover:text-gisBlue transition-colors uppercase">Bijaylaxmi Sahoo</span>
            </a>
            
            <div class="hidden md:flex gap-1 text-sm font-medium text-textMuted bg-gray-100/50 p-1 rounded-xl border border-white/40">
                <button onclick="navigateTo('about')" class="nav-item px-4 py-2 rounded-lg hover:bg-white hover:text-gisBlue hover:shadow-sm transition-all">About</button>
                <button onclick="navigateTo('work')" class="nav-item px-4 py-2 rounded-lg hover:bg-white hover:text-gisGreen hover:shadow-sm transition-all">Experience</button>
                <button onclick="navigateTo('projects')" class="nav-item px-4 py-2 rounded-lg hover:bg-white hover:text-gisOrange hover:shadow-sm transition-all">Projects</button>
                <button onclick="navigateTo('publications')" class="nav-item px-4 py-2 rounded-lg hover:bg-white hover:text-gisPink hover:shadow-sm transition-all">Research</button>
                <button onclick="navigateTo('photography')" class="nav-item px-4 py-2 rounded-lg hover:bg-white hover:text-gisPurple hover:shadow-sm transition-all">Photography</button>
            </div>

            <div class="hidden md:flex items-center gap-3">
                <button onclick="openSignInModal()" class="p-2 text-textMuted hover:text-gisBlue hover:bg-gisBlue/10 rounded-lg transition-all" title="Sign In">
                    <i data-lucide="lock" class="w-5 h-5"></i>
                </button>
                <button onclick="navigateTo('contact')" class="bg-gradient-to-r from-gisBlue to-gisGreen text-white px-6 py-2.5 rounded-xl font-bold text-sm shadow-md hover:shadow-lg transition-all transform hover:-translate-y-0.5">Contact</button>
            </div>

            <button class="md:hidden text-textMain p-2" onclick="toggleMobileMenu()"><i data-lucide="menu" class="w-6 h-6"></i></button>
        </div>
        
        <div id="mobile-menu" class="glass-nav rounded-2xl mt-2 p-4 flex flex-col gap-2 text-sm font-medium text-textMuted md:hidden relative z-40 shadow-xl border-t border-gray-100">
             <button onclick="navigateTo('about')" class="w-full text-left px-4 py-3 rounded-xl hover:bg-gray-50 hover:text-gisBlue">About Me</button>
             <button onclick="navigateTo('work')" class="w-full text-left px-4 py-3 rounded-xl hover:bg-gray-50 hover:text-gisGreen">Experience</button>
             <button onclick="navigateTo('projects')" class="w-full text-left px-4 py-3 rounded-xl hover:bg-gray-50 hover:text-gisOrange">Projects</button>
             <button onclick="navigateTo('publications')" class="w-full text-left px-4 py-3 rounded-xl hover:bg-gray-50 hover:text-gisPink">Research & Conf.</button>
             <button onclick="navigateTo('photography')" class="w-full text-left px-4 py-3 rounded-xl hover:bg-gray-50 hover:text-gisPurple">Photography</button>
             <button onclick="openSignInModal()" class="w-full text-left px-4 py-3 rounded-xl hover:bg-gray-50 hover:text-gisBlue flex items-center gap-2"><i data-lucide="lock" class="w-4 h-4"></i> Sign In</button>
             <button onclick="navigateTo('contact')" class="w-full text-left px-4 py-3 rounded-xl bg-gisBlue/10 text-gisBlue font-bold mt-2">Contact</button>
        </div>
    </nav>

    <!-- Main Container -->
    <main class="relative z-10 max-w-7xl mx-auto px-6 pt-32 pb-10 flex-grow">

        <!-- ================= HOME PAGE ================= -->
        <div id="home" class="page-view active">
            <header class="text-center mb-16 mt-8 min-h-[50vh] flex flex-col justify-center items-center">
                <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full border border-gisBlue/30 bg-white/60 backdrop-blur-sm text-sm font-bold text-gisBlue mb-6 animate-float shadow-sm">
                    <i data-lucide="globe-2" class="w-4 h-4"></i> Atmospheric Sciences & Oceanography
                </div>
                <h1 id="home-title-display" class="font-display text-4xl md:text-7xl font-bold tracking-tight leading-[1.1] mb-6 text-textMain">
                    Decoding Data from <br /> <span class="text-gradient-main">Sky to Sea.</span>
                </h1>
                <p id="home-intro-text" class="text-textMuted text-lg md:text-xl max-w-2xl mx-auto leading-relaxed mb-10 font-medium">
                    I am <span class="text-textMain font-bold">Bijaylaxmi Sahoo</span>, a dual-master's holder in Atmospheric Sciences and Oceanography. I leverage Remote Sensing, GIS, and Numerical Modeling to analyze environmental dynamics.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 w-full justify-center px-4">
                    <button onclick="navigateTo('projects')" class="px-8 py-4 bg-gisBlue text-white rounded-xl font-bold hover:bg-sky-700 transition-all shadow-lg hover:shadow-xl flex items-center justify-center gap-2 w-full sm:w-auto"><i data-lucide="layers"></i> View Projects</button>
                    <!-- CV Download Button with ID -->
                    <a id="home-cv-download-btn" href="Curriculum Vitae Bijaylaxmi Sahoo_Dec2025.pdf" class="px-8 py-4 bg-white text-textMain border border-gray-200 rounded-xl font-bold hover:bg-gray-50 transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2 w-full sm:w-auto"><i data-lucide="download"></i> Download CV</a>
                </div>
            </header>
            <div id="home-stats-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
        </div>

        <!-- ================= PRIVATE DASHBOARD (CMS) ================= -->
        <div id="private-dashboard" class="page-view">
            <header class="text-center mb-8 mt-8">
                <span class="bg-red-100 text-red-600 px-4 py-1 rounded-full text-xs font-bold uppercase tracking-widest border border-red-200">Restricted Access</span>
                <h1 class="font-display text-4xl font-bold mt-4 text-textMain">Admin <span class="text-gradient-main">Panel</span></h1>
                <p class="text-textMuted mt-2">Manage website content.</p>
            </header>

            <div class="flex flex-col lg:flex-row gap-8 max-w-7xl mx-auto min-h-[600px]">
                <!-- SIDEBAR NAV -->
                <div class="w-full lg:w-64 flex-shrink-0">
                    <div class="glass-panel p-4 rounded-2xl sticky top-24">
                        <nav class="flex flex-col gap-2">
                            <button onclick="switchAdminTab('home')" id="btn-admin-home" class="admin-nav-btn text-left px-4 py-3 rounded-xl font-bold text-textMuted hover:bg-gisBlue/10 hover:text-gisBlue transition-all active"><i data-lucide="home" class="w-4 h-4 inline mr-2"></i> Home</button>
                            <button onclick="switchAdminTab('about')" id="btn-admin-about" class="admin-nav-btn text-left px-4 py-3 rounded-xl font-bold text-textMuted hover:bg-gisGreen/10 hover:text-gisGreen transition-all"><i data-lucide="user" class="w-4 h-4 inline mr-2"></i> About</button>
                            <button onclick="switchAdminTab('experience')" id="btn-admin-experience" class="admin-nav-btn text-left px-4 py-3 rounded-xl font-bold text-textMuted hover:bg-gisGreen/10 hover:text-gisGreen transition-all"><i data-lucide="briefcase" class="w-4 h-4 inline mr-2"></i> Experience</button>
                            <button onclick="switchAdminTab('projects')" id="btn-admin-projects" class="admin-nav-btn text-left px-4 py-3 rounded-xl font-bold text-textMuted hover:bg-gisOrange/10 hover:text-gisOrange transition-all"><i data-lucide="layers" class="w-4 h-4 inline mr-2"></i> Projects</button>
                            <button onclick="switchAdminTab('research')" id="btn-admin-research" class="admin-nav-btn text-left px-4 py-3 rounded-xl font-bold text-textMuted hover:bg-gisPink/10 hover:text-gisPink transition-all"><i data-lucide="book-open" class="w-4 h-4 inline mr-2"></i> Research</button>
                            <button onclick="switchAdminTab('photography')" id="btn-admin-photography" class="admin-nav-btn text-left px-4 py-3 rounded-xl font-bold text-textMuted hover:bg-gisPurple/10 hover:text-gisPurple transition-all"><i data-lucide="camera" class="w-4 h-4 inline mr-2"></i> Photography</button>
                            <button onclick="switchAdminTab('contact')" id="btn-admin-contact" class="admin-nav-btn text-left px-4 py-3 rounded-xl font-bold text-textMuted hover:bg-gisBlue/10 hover:text-gisBlue transition-all"><i data-lucide="mail" class="w-4 h-4 inline mr-2"></i> Contact</button>
                            <button onclick="switchAdminTab('data')" id="btn-admin-data" class="admin-nav-btn text-left px-4 py-3 rounded-xl font-bold text-textMuted hover:bg-gisPurple/10 hover:text-gisPurple transition-all"><i data-lucide="database" class="w-4 h-4 inline mr-2"></i> Data</button>
                            <div class="h-px bg-gray-200 my-2"></div>
                            <button onclick="signOut()" class="text-left px-4 py-3 rounded-xl font-bold text-red-500 hover:bg-red-50 transition-all"><i data-lucide="log-out" class="w-4 h-4 inline mr-2"></i> Sign Out</button>
                        </nav>
                    </div>
                </div>

                <!-- CONTENT AREA -->
                <div class="flex-grow">
                    <!-- TAB: HOME -->
                    <div id="admin-home" class="admin-tab-view space-y-6">
                        <div class="glass-panel p-6 rounded-3xl border-l-4 border-gisBlue">
                            <h3 class="font-display text-xl font-bold mb-4 flex items-center gap-2"><i data-lucide="home" class="w-5 h-5 text-gisBlue"></i> Home Header</h3>
                            <div class="space-y-4">
                                <input type="text" id="home-title-input" class="w-full p-2 text-sm border rounded-xl bg-white/50" placeholder="Main Title">
                                <textarea id="home-edit-area" rows="3" class="w-full p-3 text-sm border rounded-xl bg-white/50" placeholder="Intro Text..."></textarea>
                                <button onclick="saveHomeHeader()" class="px-4 py-2 bg-gisBlue text-white rounded-lg text-sm font-bold shadow-md">Save Header</button>
                            </div>
                        </div>
                        <div class="glass-panel p-6 rounded-3xl border-l-4 border-gisOrange">
                            <h3 class="font-display text-xl font-bold mb-4 flex items-center gap-2"><i data-lucide="bar-chart-2" class="w-5 h-5 text-gisOrange"></i> Dashboard Stats</h3>
                            <div id="admin-stats-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-6"></div>
                            <div class="border-t border-gray-200 pt-4 bg-white/30 p-4 rounded-xl">
                                <div class="grid grid-cols-1 md:grid-cols-4 gap-3">
                                    <input type="text" id="new-stat-title" class="p-2 text-sm border rounded-lg" placeholder="Title">
                                    <input type="text" id="new-stat-val" class="p-2 text-sm border rounded-lg" placeholder="Value">
                                    <input type="text" id="new-stat-desc" class="p-2 text-sm border rounded-lg" placeholder="Desc">
                                    <input type="file" id="new-stat-img" accept="image/*" class="text-xs text-textMuted py-2">
                                </div>
                                <button onclick="addNewStat()" class="mt-2 w-full py-2 bg-gisOrange text-white rounded-lg text-sm font-bold">Add Card</button>
                            </div>
                        </div>
                    </div>

                    <!-- TAB: ABOUT -->
                    <div id="admin-about" class="admin-tab-view hidden space-y-8">
                        
                        <!-- 1. Profile -->
                        <div class="glass-panel p-6 rounded-3xl border-l-4 border-gisBlue">
                            <h3 class="font-display text-xl font-bold mb-4">Profile & Bio</h3>
                            <div class="flex gap-6">
                                <div class="flex-shrink-0 text-center">
                                    <div class="w-24 h-24 rounded-full bg-gray-100 overflow-hidden mb-2 mx-auto">
                                        <img id="admin-profile-prev" src="gama_prof.jpeg" class="w-full h-full object-cover">
                                    </div>
                                    <input type="file" id="about-profile-up" accept="image/*" class="text-xs w-24" onchange="previewProfileImg(this)">
                                </div>
                                <div class="flex-grow">
                                    <textarea id="about-edit-area" rows="4" class="w-full p-3 text-sm border rounded-xl bg-white/50" placeholder="Intro Text..."></textarea>
                                </div>
                            </div>
                            <button onclick="saveAboutProfile()" class="mt-2 px-4 py-2 bg-gisBlue text-white rounded-lg text-sm font-bold">Save Profile</button>
                        </div>

                        <!-- 2. Education -->
                        <div class="glass-panel p-6 rounded-3xl border-l-4 border-gisBlue">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="font-display text-xl font-bold">Education</h3>
                                <div class="text-xs">
                                    <label class="font-bold text-textMuted mr-2">BG Image:</label>
                                    <input type="file" id="edu-bg-up" accept="image/*" class="w-32" onchange="saveSectionBg('education', this)">
                                </div>
                            </div>
                            <div id="admin-education-list" class="space-y-2 mb-4"></div>
                            <div class="grid grid-cols-3 gap-2 bg-white/50 p-3 rounded-lg">
                                <input id="new-edu-deg" placeholder="Degree (M.S.)" class="p-2 border rounded text-sm">
                                <input id="new-edu-inst" placeholder="Institution" class="p-2 border rounded text-sm">
                                <input id="new-edu-year" placeholder="Year" class="p-2 border rounded text-sm">
                            </div>
                            <button onclick="addAboutItem('education')" class="mt-2 w-full py-2 bg-gisBlue/10 text-gisBlue rounded font-bold hover:bg-gisBlue hover:text-white transition-all">Add Education</button>
                        </div>

                        <!-- 3. Field Expertise -->
                        <div class="glass-panel p-6 rounded-3xl border-l-4 border-gisOrange">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="font-display text-xl font-bold">Field Expertise</h3>
                                <div class="text-xs">
                                    <label class="font-bold text-textMuted mr-2">BG Image:</label>
                                    <input type="file" id="field-bg-up" accept="image/*" class="w-32" onchange="saveSectionBg('field', this)">
                                </div>
                            </div>
                            <div id="admin-field-list" class="space-y-2 mb-4"></div>
                            <div class="grid grid-cols-2 gap-2 bg-white/50 p-3 rounded-lg">
                                <input id="new-field-title" placeholder="Area (e.g. UAV)" class="p-2 border rounded text-sm">
                                <input id="new-field-tags" placeholder="Details (comma sep)" class="p-2 border rounded text-sm">
                            </div>
                            <button onclick="addAboutItem('field')" class="mt-2 w-full py-2 bg-gisOrange/10 text-gisOrange rounded font-bold hover:bg-gisOrange hover:text-white transition-all">Add Expertise</button>
                        </div>

                        <!-- 4. Technical Skills -->
                        <div class="glass-panel p-6 rounded-3xl border-l-4 border-gisPurple">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="font-display text-xl font-bold">Technical Skills</h3>
                                <div class="text-xs">
                                    <label class="font-bold text-textMuted mr-2">BG Image:</label>
                                    <input type="file" id="skills-bg-up" accept="image/*" class="w-32" onchange="saveSectionBg('skills', this)">
                                </div>
                            </div>
                            <div id="admin-skills-list" class="space-y-2 mb-4"></div>
                            <div class="grid grid-cols-2 gap-2 bg-white/50 p-3 rounded-lg">
                                <input id="new-skill-cat" placeholder="Category (e.g. Coding)" class="p-2 border rounded text-sm">
                                <input id="new-skill-list" placeholder="Skills (Python, MATLAB)" class="p-2 border rounded text-sm">
                            </div>
                            <button onclick="addAboutItem('skills')" class="mt-2 w-full py-2 bg-gisPurple/10 text-gisPurple rounded font-bold hover:bg-gisPurple hover:text-white transition-all">Add Skills</button>
                        </div>

                        <!-- 5. Honors & Awards -->
                        <div class="glass-panel p-6 rounded-3xl border-l-4 border-gisGreen">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="font-display text-xl font-bold">Honors & Awards</h3>
                                <div class="text-xs">
                                    <label class="font-bold text-textMuted mr-2">BG Image:</label>
                                    <input type="file" id="awards-bg-up" accept="image/*" class="w-32" onchange="saveSectionBg('awards', this)">
                                </div>
                            </div>
                            <div id="admin-awards-list" class="space-y-2 mb-4"></div>
                            <div class="grid grid-cols-1 gap-2 bg-white/50 p-3 rounded-lg">
                                <input id="new-award-title" placeholder="Award Title" class="p-2 border rounded text-sm">
                                <input id="new-award-desc" placeholder="Details/Year" class="p-2 border rounded text-sm">
                            </div>
                            <button onclick="addAboutItem('awards')" class="mt-2 w-full py-2 bg-gisGreen/10 text-gisGreen rounded font-bold hover:bg-gisGreen hover:text-white transition-all">Add Award</button>
                        </div>

                        <!-- 6. Memberships & Activities (Side by Side) -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="glass-panel p-6 rounded-3xl border-t-4 border-gisBlue">
                                <h3 class="font-bold mb-2">Memberships</h3>
                                <div id="admin-memb-list" class="mb-2 space-y-1"></div>
                                <input id="new-memb" placeholder="Add Membership..." class="w-full p-2 border rounded text-sm mb-2">
                                <button onclick="addSimpleList('memb')" class="w-full py-1 bg-gray-100 hover:bg-gray-200 rounded text-sm font-bold">Add</button>
                            </div>
                            <div class="glass-panel p-6 rounded-3xl border-t-4 border-gisPink">
                                <h3 class="font-bold mb-2">Activities</h3>
                                <div id="admin-act-list" class="mb-2 space-y-1"></div>
                                <input id="new-act-title" placeholder="Role (e.g. Officer)" class="w-full p-2 border rounded text-sm mb-1">
                                <input id="new-act-desc" placeholder="Details (e.g. Association...)" class="w-full p-2 border rounded text-sm mb-2">
                                <button onclick="addActivityItem()" class="w-full py-1 bg-gray-100 hover:bg-gray-200 rounded text-sm font-bold">Add</button>
                            </div>
                        </div>
                    </div>

                    <!-- TAB: EXPERIENCE -->
                    <div id="admin-experience" class="admin-tab-view hidden space-y-6">
                        <div class="glass-panel p-6 rounded-3xl border-l-4 border-gisGreen">
                            <h3 class="font-display text-xl font-bold mb-4">Manage Experience</h3>
                            <div id="admin-exp-list" class="space-y-3 mb-6"></div>
                            <div class="bg-white/50 p-4 rounded-xl border border-white/60">
                                <h5 class="text-xs font-bold uppercase mb-2">+ Add Experience</h5>
                                <input id="new-exp-role" class="w-full mb-2 p-2 text-sm border rounded" placeholder="Role">
                                <input id="new-exp-org" class="w-full mb-2 p-2 text-sm border rounded" placeholder="Organization">
                                <input id="new-exp-date" class="w-full mb-2 p-2 text-sm border rounded" placeholder="Date">
                                <textarea id="new-exp-desc" class="w-full mb-2 p-2 text-sm border rounded" placeholder="Description (Supports multiple lines)" rows="3"></textarea>
                                <button onclick="addNewExp()" class="mt-2 w-full py-2 bg-gisGreen text-white rounded font-bold">Add Entry</button>
                            </div>
                        </div>
                    </div>

                    <!-- TAB: PROJECTS (UPDATED) -->
                    <div id="admin-projects" class="admin-tab-view hidden space-y-6">
                         <div class="glass-panel p-6 rounded-3xl border-l-4 border-gisOrange">
                            <h3 class="font-display text-xl font-bold mb-4">Manage Projects</h3>
                            <div id="admin-proj-list" class="grid grid-cols-1 gap-4 mb-6"></div>
                            
                            <!-- Updated Form -->
                            <div class="bg-white/50 p-4 rounded-xl border border-white/60">
                                <h5 class="text-xs font-bold uppercase mb-2">+ Add New Project</h5>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="text-xs font-bold text-textMuted uppercase">Title</label>
                                        <input id="new-proj-title" class="w-full mb-2 p-2 text-sm border rounded" placeholder="Project Name">
                                    </div>
                                    <div>
                                        <label class="text-xs font-bold text-textMuted uppercase">Background Image</label>
                                        <input type="file" id="new-proj-bg" accept="image/*" class="w-full text-xs mb-2">
                                    </div>
                                    <div>
                                        <label class="text-xs font-bold text-textMuted uppercase">Short Description (Card)</label>
                                        <textarea id="new-proj-short" class="w-full p-2 text-sm border rounded" rows="2" placeholder="Brief summary..."></textarea>
                                    </div>
                                    <div>
                                        <label class="text-xs font-bold text-textMuted uppercase">Keywords (Comma separated)</label>
                                        <input id="new-proj-tags" class="w-full p-2 text-sm border rounded" placeholder="Python, Ocean Color, GIS">
                                    </div>
                                </div>
                                <div class="mt-2">
                                    <label class="text-xs font-bold text-textMuted uppercase">Long Description (HTML Supported)</label>
                                    <textarea id="new-proj-long" class="w-full p-2 text-sm border rounded" rows="5" placeholder="<b>Challenge:</b>...<br><b>Methodology:</b>..."></textarea>
                                </div>
                                <div class="mt-2">
                                    <label class="text-xs font-bold text-textMuted uppercase">Inner Gallery Images (Select Multiple)</label>
                                    <input type="file" id="new-proj-gallery" accept="image/*" multiple class="w-full text-xs">
                                </div>
                                <button onclick="addNewProj()" class="w-full mt-4 py-2 bg-gisOrange text-white rounded font-bold hover:bg-orange-600 transition-all">Add Project</button>
                            </div>
                        </div>
                    </div>

                    <!-- TAB: RESEARCH (UPDATED) -->
                    <div id="admin-research" class="admin-tab-view hidden space-y-6">
                        <div class="glass-panel p-6 rounded-3xl border-l-4 border-gisPink">
                            <h3 class="font-display text-xl font-bold mb-4 flex items-center gap-2"><i data-lucide="book-open" class="w-5 h-5 inline"></i> Research</h3>
                            
                            <h3 class="font-display text-xl font-bold mb-4">Add Research Item</h3>
                            <div class="bg-white/50 p-4 rounded-xl border border-white/60">
                                <label class="text-xs font-bold text-textMuted uppercase mb-2 block">Item Type</label>
                                <select id="res-type" class="w-full p-2 border rounded-lg mb-4 text-sm" onchange="toggleResInputs()">
                                    <option value="book">Book Review</option>
                                    <option value="journal">Journal Paper</option>
                                    <option value="conference">Conference / Workshop</option>
                                </select>

                                <!-- Book Inputs -->
                                <div id="res-inputs-book" class="space-y-2">
                                    <input id="res-book-title" placeholder="Book Title" class="w-full p-2 border rounded text-sm">
                                    <input id="res-book-subtitle" placeholder="Subtitle / Location" class="w-full p-2 border rounded text-sm">
                                    <textarea id="res-book-citation" placeholder="Full Citation (Authors, Year, Publisher...)" class="w-full p-2 border rounded text-sm" rows="3"></textarea>
                                </div>

                                <!-- Journal Inputs -->
                                <div id="res-inputs-journal" class="space-y-2 hidden">
                                    <input id="res-jour-title" placeholder="Paper Title" class="w-full p-2 border rounded text-sm">
                                    <div class="grid grid-cols-2 gap-2">
                                        <input id="res-jour-year" placeholder="Year" class="w-full p-2 border rounded text-sm">
                                        <input id="res-jour-type" placeholder="Type (e.g. Master's Thesis)" class="w-full p-2 border rounded text-sm">
                                    </div>
                                    <textarea id="res-jour-desc" placeholder="Description / Abstract" class="w-full p-2 border rounded text-sm" rows="2"></textarea>
                                    <input id="res-jour-link" placeholder="Link URL" class="w-full p-2 border rounded text-sm">
                                </div>

                                <!-- Conference Inputs -->
                                <div id="res-inputs-conference" class="space-y-2 hidden">
                                    <input id="res-conf-title" placeholder="Presentation Title" class="w-full p-2 border rounded text-sm">
                                    <input id="res-conf-place" placeholder="Place & Time (e.g. CERF 2025, VA)" class="w-full p-2 border rounded text-sm">
                                    <textarea id="res-conf-desc" placeholder="Description" class="w-full p-2 border rounded text-sm" rows="2"></textarea>
                                </div>

                                <button onclick="addResearchItem()" class="w-full mt-4 py-2 bg-gisPink text-white rounded-lg font-bold hover:bg-pink-600 transition-all">Add Item</button>
                            </div>

                            <div class="mt-6">
                                <h4 class="font-bold text-sm text-textMuted mb-2">Current Items</h4>
                                <div id="admin-res-list" class="space-y-2"></div>
                            </div>
                        </div>
                    </div>

                    <!-- TAB: PHOTOGRAPHY -->
                    <div id="admin-photography" class="admin-tab-view hidden space-y-6">
                        <div class="glass-panel p-6 rounded-3xl border-l-4 border-gisPurple">
                            <h3 class="font-display text-xl font-bold mb-4"><i data-lucide="camera" class="w-5 h-5 inline"></i> Photography Albums</h3>
                            
                            <div class="bg-white/50 p-4 rounded-xl border border-white/60 mb-6">
                                <h5 class="text-sm font-bold text-textMain mb-2">Create New Album</h5>
                                <input id="new-album-title" class="w-full mb-2 p-2 text-sm border rounded" placeholder="Album Title (e.g. Field Work)">
                                
                                <label class="text-xs font-bold text-textMuted block mb-1">Cover Photo (Strip)</label>
                                <input type="file" id="new-album-cover" accept="image/*" class="w-full text-xs mb-3">
                                
                                <button onclick="addNewAlbum()" class="w-full py-2 bg-gisPurple text-white rounded-lg font-bold hover:bg-purple-700 transition-all">Create Album</button>
                            </div>

                            <div id="admin-album-list" class="space-y-4"></div>
                        </div>
                    </div>

                    <!-- TAB: CONTACT -->
                    <div id="admin-contact" class="admin-tab-view hidden space-y-6">
                        <div class="glass-panel p-6 rounded-3xl border-l-4 border-gisBlue">
                            <h3 class="font-display text-xl font-bold mb-4">Contact Details</h3>
                            <div class="space-y-4">
                                <div><label class="text-xs font-bold text-textMuted uppercase">LSU Email</label><input id="contact-email-lsu" class="w-full p-2 border rounded-xl" value="bsahoo1@lsu.edu"></div>
                                <div><label class="text-xs font-bold text-textMuted uppercase">Personal Email</label><input id="contact-email-personal" class="w-full p-2 border rounded-xl" value="bijaylaxmi.gamma@gmail.com"></div>
                                <div><label class="text-xs font-bold text-textMuted uppercase">Location</label><input id="contact-location" class="w-full p-2 border rounded-xl" value="Baton Rouge, LA 70803"></div>
                                <button onclick="saveContact()" class="w-full py-2 bg-gisBlue text-white rounded-xl font-bold">Save Contact Info</button>
                            </div>
                        </div>
                    </div>

                    <!-- TAB: DATA -->
                    <div id="admin-data" class="admin-tab-view hidden space-y-6">
                        <div class="glass-panel p-6 rounded-3xl border-l-4 border-gisPurple">
                            <h3 class="font-display text-xl font-bold mb-4">Data Repository</h3>
                            <div class="border-2 border-dashed border-gisPurple/30 rounded-xl p-8 text-center hover:bg-gisPurple/5 transition-colors cursor-pointer relative mb-6">
                                <i data-lucide="upload-cloud" class="w-10 h-10 text-gisPurple mx-auto mb-2"></i>
                                <p class="font-bold text-textMain">Upload Document (PDF, Word, etc.)</p>
                                <p class="text-xs text-textMuted">Click to select files.</p>
                                <input type="file" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" onchange="handleDataUpload(this)">
                            </div>
                            
                            <h4 class="text-xs font-bold text-textMuted uppercase mb-3">Uploaded Documents</h4>
                            <div id="admin-data-list" class="grid grid-cols-2 md:grid-cols-3 gap-4"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ================= ABOUT PAGE (UPDATED) ================= -->
        <div id="about" class="page-view">
            <h2 class="font-display text-4xl md:text-6xl font-bold mb-12 text-center text-textMain">About <span class="text-gisGreen">Bijaylaxmi</span></h2>
            
            <div class="max-w-5xl mx-auto space-y-8">
                <!-- 1. Profile & Bio -->
                <div class="glass-panel rounded-3xl p-8 shadow-sm border-t-4 border-gisBlue">
                    <div class="flex flex-col md:flex-row items-center gap-10">
                        <div class="w-48 h-48 rounded-full p-1 bg-gradient-to-tr from-gisBlue via-gisGreen to-gisPurple shadow-xl flex-shrink-0">
                            <img id="about-profile-img" src="gama_prof.jpeg" class="w-full h-full object-cover rounded-full border-4 border-white">
                        </div>
                        <div class="text-center md:text-left flex-grow">
                            <h3 class="font-display text-4xl font-bold text-textMain mb-2">Bijaylaxmi Sahoo</h3>
                            <div class="flex flex-wrap gap-3 justify-center md:justify-start mb-6">
                                <span class="px-3 py-1 rounded-full bg-gisBlue/10 text-gisBlue font-bold text-sm"><i data-lucide="map-pin" class="w-3 h-3 inline mr-1"></i> Baton Rouge, LA</span>
                                <span class="px-3 py-1 rounded-full bg-gisGreen/10 text-gisGreen font-bold text-sm"><i data-lucide="globe" class="w-3 h-3 inline mr-1"></i> Open to Relocation</span>
                            </div>
                            <div id="about-bio-display" class="space-y-4 text-lg text-textMain leading-relaxed font-medium"></div>
                        </div>
                    </div>
                </div>

                <!-- 2. Education Card -->
                <div class="glass-panel rounded-3xl overflow-hidden hover-card border-l-4 border-gisBlue">
                    <div class="grid grid-cols-1 md:grid-cols-12">
                        <div class="md:col-span-4 h-48 md:h-auto relative">
                            <img id="about-education-bg" src="https://images.unsplash.com/photo-1523050854058-8df90110c9f1?q=80&w=800&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover">
                            <div class="absolute inset-0 bg-gisBlue/20"></div>
                        </div>
                        <div class="md:col-span-8 p-8">
                            <h4 class="font-display text-2xl font-bold mb-6 flex items-center gap-2"><i data-lucide="graduation-cap" class="w-6 h-6 text-gisBlue"></i> Education</h4>
                            <div id="about-education-list" class="space-y-4"></div>
                        </div>
                    </div>
                </div>

                <!-- 3. Field Expertise -->
                <div class="glass-panel rounded-3xl overflow-hidden hover-card border-l-4 border-gisOrange">
                    <div class="grid grid-cols-1 md:grid-cols-12">
                        <div class="md:col-span-4 h-48 md:h-auto relative">
                            <img id="about-field-bg" src="https://images.unsplash.com/photo-1569263979104-565b63418962?q=80&w=800&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover">
                            <div class="absolute inset-0 bg-gisOrange/20"></div>
                        </div>
                        <div class="md:col-span-8 p-8">
                            <h4 class="font-display text-2xl font-bold mb-6 flex items-center gap-2"><i data-lucide="compass" class="w-6 h-6 text-gisOrange"></i> Field Expertise</h4>
                            <div id="about-field-list" class="grid grid-cols-1 sm:grid-cols-2 gap-4"></div>
                        </div>
                    </div>
                </div>

                <!-- 4. Technical Skills -->
                <div class="glass-panel rounded-3xl overflow-hidden hover-card border-l-4 border-gisPurple">
                    <div class="grid grid-cols-1 md:grid-cols-12">
                        <div class="md:col-span-4 h-48 md:h-auto relative">
                            <img id="about-skills-bg" src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?q=80&w=800&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover">
                            <div class="absolute inset-0 bg-gisPurple/20"></div>
                        </div>
                        <div class="md:col-span-8 p-8">
                            <h4 class="font-display text-2xl font-bold mb-6 flex items-center gap-2"><i data-lucide="wrench" class="w-6 h-6 text-gisPurple"></i> Technical Skills</h4>
                            <div id="about-skills-list" class="space-y-4"></div>
                        </div>
                    </div>
                </div>

                <!-- 5. Honors & Awards -->
                <div class="glass-panel rounded-3xl overflow-hidden hover-card border-l-4 border-gisGreen">
                    <div class="grid grid-cols-1 md:grid-cols-12">
                        <div class="md:col-span-4 h-48 md:h-auto relative">
                            <img id="about-awards-bg" src="https://images.unsplash.com/photo-1565514020176-db793d9735d5?q=80&w=800&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover">
                            <div class="absolute inset-0 bg-gisGreen/20"></div>
                        </div>
                        <div class="md:col-span-8 p-8">
                            <h4 class="font-display text-2xl font-bold mb-6 flex items-center gap-2"><i data-lucide="trophy" class="w-6 h-6 text-gisGreen"></i> Honors & Awards</h4>
                            <div id="about-awards-list" class="space-y-4"></div>
                        </div>
                    </div>
                </div>

                <!-- 6. Memberships & Activities -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="glass-panel p-8 rounded-3xl hover-card border-t-4 border-gisBlue">
                        <h4 class="font-display text-xl font-bold mb-6 flex items-center gap-2"><i data-lucide="users" class="w-5 h-5 text-gisBlue"></i> Memberships</h4>
                        <ul id="about-memb-list" class="space-y-3"></ul>
                    </div>
                    <div class="glass-panel p-8 rounded-3xl hover-card border-t-4 border-gisPink">
                        <h4 class="font-display text-xl font-bold mb-6 flex items-center gap-2"><i data-lucide="heart-handshake" class="w-5 h-5 text-gisPink"></i> Activities</h4>
                        <ul id="about-act-list" class="space-y-3"></ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- ================= WORK, PROJECTS, PUBLICATIONS, PHOTOGRAPHY, CONTACT (Remaining) ================= -->
        <div id="work" class="page-view"><h2 class="font-display text-4xl md:text-6xl font-bold mb-6 text-center text-textMain">Professional <span class="text-gisPurple">Experience</span></h2><div id="work-list-display" class="grid gap-8 max-w-4xl mx-auto"></div></div>
        <div id="projects" class="page-view"><h2 class="font-display text-4xl md:text-6xl font-bold mb-6 text-center text-textMain">Key <span class="text-gisPink">Project</span></h2><div id="projects-list-display" class="max-w-6xl mx-auto space-y-8"></div></div>
        
        <!-- PUBLICATIONS SECTION (UPDATED) -->
        <div id="publications" class="page-view">
            <h2 class="font-display text-4xl md:text-6xl font-bold mb-6 text-center text-textMain">Papers & <span class="text-gisPink">Conferences</span></h2>
            
            <div class="max-w-4xl mx-auto space-y-12">
                <!-- Book Reviews -->
                <div id="pub-books" class="space-y-6"></div>

                <!-- Journal Papers -->
                <div class="space-y-4">
                    <h3 class="font-display text-xl font-bold text-textMuted uppercase tracking-wider flex items-center gap-2 border-b pb-2"><i data-lucide="file-text" class="w-5 h-5"></i> Journal Papers</h3>
                    <div id="pub-journals" class="space-y-4"></div>
                </div>

                <!-- Conferences -->
                <div class="space-y-4">
                    <h3 class="font-display text-xl font-bold text-textMuted uppercase tracking-wider flex items-center gap-2 border-b pb-2"><i data-lucide="mic-2" class="w-5 h-5"></i> Conferences & Workshops</h3>
                    <div id="pub-conferences" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
                </div>

                <!-- ResearchGate Button -->
                <div class="text-center pt-8">
                     <a href="https://www.researchgate.net/profile/Bijaylaxmi-Sahoo" target="_blank" class="inline-flex items-center gap-2 px-6 py-3 bg-white border border-gray-200 rounded-full font-bold text-textMain shadow-sm hover:shadow-md hover:text-gisGreen transition-all">
                        View ResearchGate Profile <i data-lucide="external-link" class="w-4 h-4"></i>
                     </a>
                </div>
            </div>
        </div>

        <!-- PHOTOGRAPHY (GALLERY) SECTION UPDATED -->
        <div id="photography" class="page-view">
            <h2 class="font-display text-4xl md:text-6xl font-bold mb-6 text-center text-textMain">Captured <span class="text-gisPurple">Moments</span></h2>
            <p class="text-center text-textMuted mb-12 max-w-2xl mx-auto">Beyond the data and maps, I explore the world through my lens. Capturing the beauty of the atmosphere and my journeys.</p>
            <!-- Full Screen Album View (Hidden Initially) -->
            <div id="album-viewer" class="hidden fixed inset-0 z-[60] bg-white overflow-y-auto">
                <div class="p-8 max-w-7xl mx-auto">
                    <button onclick="closeAlbumPage()" class="mb-8 flex items-center gap-2 text-gisPurple font-bold hover:gap-3 transition-all"><i data-lucide="arrow-left" class="w-5 h-5"></i> Back to Gallery</button>
                    <h2 id="album-view-title" class="font-display text-4xl font-bold mb-8"></h2>
                    <div id="album-view-grid" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
                </div>
            </div>
            <!-- Gallery Grid -->
            <div id="gallery-grid" class="flex justify-center gap-4 h-[500px] max-w-6xl mx-auto overflow-hidden px-4">
                <!-- Dynamic Strips will be injected here -->
            </div>
        </div>

        <!-- CONTACT SECTION UPDATED -->
        <div id="contact" class="page-view">
            <h2 class="font-display text-4xl md:text-5xl font-bold mb-6 text-center text-textMain">Let's <span class="text-gradient-main">Connect</span></h2>
            <p class="text-textMuted mb-12 text-center max-w-xl mx-auto font-medium text-lg">Open to collaborations in Atmospheric Sciences, Oceanography, and RS/GIS.</p>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-5xl mx-auto items-stretch">
                <!-- Left: Info Cards -->
                <div class="space-y-6 flex flex-col justify-center">
                    <a href="#" class="glass-panel p-6 rounded-2xl flex items-center gap-6 hover:bg-white transition-all group">
                        <div class="p-4 bg-gisBlue/10 rounded-full group-hover:bg-gisBlue group-hover:text-white transition-colors">
                            <i data-lucide="mail" class="w-6 h-6 text-gisBlue group-hover:text-white"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-textMain text-lg">LSU Email</h4>
                            <p class="text-textMuted" id="display-email-lsu">bsahoo1@lsu.edu</p>
                        </div>
                    </a>

                    <a href="#" class="glass-panel p-6 rounded-2xl flex items-center gap-6 hover:bg-white transition-all group">
                        <div class="p-4 bg-gisPink/10 rounded-full group-hover:bg-gisPink group-hover:text-white transition-colors">
                            <i data-lucide="mail" class="w-6 h-6 text-gisPink group-hover:text-white"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-textMain text-lg">Personal Email</h4>
                            <p class="text-textMuted" id="display-email-personal">bijaylaxmi.gamma@gmail.com</p>
                        </div>
                    </a>

                    <div class="glass-panel p-6 rounded-2xl flex items-center gap-6">
                        <div class="p-4 bg-gisGreen/10 rounded-full">
                            <i data-lucide="map-pin" class="w-6 h-6 text-gisGreen"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-textMain text-lg">Location</h4>
                            <p class="text-textMuted" id="display-location">Baton Rouge, LA 70803</p>
                        </div>
                    </div>
                </div>

                <!-- Right: Map -->
                <div class="glass-panel p-2 rounded-3xl h-[400px] lg:h-auto overflow-hidden shadow-lg relative">
                    <iframe 
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3439.630073043236!2d-91.18967802369677!3d30.41372330353153!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8626a71e62660275%3A0x6b2675971578e072!2s3928%20Gourrier%20Ave%2C%20Baton%20Rouge%2C%20LA%2070808!5e0!3m2!1sen!2sus!4v1709251234567!5m2!1sen!2sus" 
                        width="100%" height="100%" style="border:0; border-radius: 20px;" allowfullscreen="" loading="lazy"></iframe>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Footer Added Here -->
    <footer class="border-t border-gray-200 bg-white/50 backdrop-blur-md mt-20 py-8 text-center">
        <p class="text-textMuted text-sm font-medium mb-4">&copy; 2025 Bijaylaxmi Sahoo. All rights reserved.</p>
        <div class="flex justify-center gap-6">
            <a href="https://www.linkedin.com/in/bijaylaxmi-sahoo-4a82701aa" target="_blank" class="text-textMuted hover:text-gisBlue transition-colors" title="LinkedIn"><i data-lucide="linkedin" class="w-5 h-5"></i></a>
            <a href="https://www.researchgate.net/profile/Bijaylaxmi-Sahoo" target="_blank" class="text-textMuted hover:text-gisGreen transition-colors" title="ResearchGate"><i data-lucide="book-open" class="w-5 h-5"></i></a>
        </div>
    </footer>

    <!-- Modal Elements -->
    <div id="signin-modal" class="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm modal-base">
        <div class="bg-white rounded-2xl w-full max-w-md shadow-2xl relative modal-content p-8">
            <button onclick="closeSignInModal()" class="absolute top-4 right-4 text-gray-400"><i data-lucide="x"></i></button>
            <h3 class="font-bold text-2xl mb-4">Restricted Access</h3>
            <input type="password" id="password-input" class="w-full p-3 border rounded-xl mb-4" placeholder="Password">
            <button onclick="checkPassword()" class="w-full py-3 bg-gisBlue text-white rounded-xl font-bold">Unlock</button>
        </div>
    </div>
    
    <!-- Unified Project Modal -->
    <div id="project-modal" class="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm modal-base">
        <div id="project-modal-content" class="bg-white rounded-3xl w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl relative modal-content">
            <button onclick="closeProjectModal()" class="absolute top-4 right-4 p-2 bg-black/30 hover:bg-black/50 text-white rounded-full z-20"><i data-lucide="x"></i></button>
            <div class="h-64 relative">
                <img id="modal-img" class="w-full h-full object-cover">
                <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"></div>
                <div class="absolute bottom-8 left-8 right-8 text-white">
                    <h3 id="modal-title" class="text-3xl md:text-4xl font-bold font-display leading-tight mb-2"></h3>
                    <div id="modal-tags" class="flex flex-wrap gap-2"></div>
                </div>
            </div>
            <div class="p-8">
                <div id="modal-desc" class="prose prose-lg text-textMuted max-w-none mb-10 leading-relaxed"></div>
                <h4 id="gallery-header" class="font-display text-xl font-bold text-textMain mb-4 border-b pb-2">Gallery</h4>
                <div id="modal-gallery" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>
                <div class="mt-8 pt-6 border-t border-gray-100 flex justify-end">
                    <button onclick="closeProjectModal()" class="px-8 py-3 bg-gisBlue text-white rounded-xl font-bold hover:bg-sky-700 transition-all">Close Details</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();
        function navigateTo(p){document.querySelectorAll('.page-view').forEach(e=>e.classList.remove('active'));document.getElementById(p).classList.add('active');window.scrollTo(0,0);document.getElementById('mobile-menu').classList.remove('open');}
        function toggleMobileMenu(){document.getElementById('mobile-menu').classList.toggle('open');}
        function openSignInModal(){document.getElementById('signin-modal').classList.add('open');}
        function closeSignInModal(){document.getElementById('signin-modal').classList.remove('open');}
        function checkPassword(){if(document.getElementById('password-input').value==='Gamma0606'){navigateTo('private-dashboard');closeSignInModal();switchAdminTab('home');loadContent();}else{alert('Incorrect Password');}}
        function signOut(){navigateTo('home');}
        function switchAdminTab(t){document.querySelectorAll('.admin-tab-view').forEach(e=>e.classList.add('hidden'));document.querySelectorAll('.admin-nav-btn').forEach(e=>e.classList.remove('active'));document.getElementById('admin-'+t).classList.remove('hidden');document.getElementById('btn-admin-'+t).classList.add('active');}

        // --- CMS Logic ---
        const DEFAULT_STATS = [{title:"Experience",val:"5+",desc:"Years",img:"https://images.unsplash.com/photo-1451187580459-43490279c0fa",color:"gisGreen"},{title:"Education",val:"2",desc:"Masters",img:"https://images.unsplash.com/photo-1523050854058-8df90110c9f1",color:"gisBlue"},{title:"Tools",val:"6+",desc:"Softwares",img:"https://images.unsplash.com/photo-1555066931-4365d14bab8c",color:"gisOrange"}];
        
        function getStorage(){return JSON.parse(localStorage.getItem('bijaylaxmi_site_data')||'{}');}
        function setStorage(d){
            try {
                localStorage.setItem('bijaylaxmi_site_data',JSON.stringify(d));
            } catch (e) {
                alert("Storage quota exceeded! Please delete some items (especially large photos) before adding more.");
                console.error(e);
            }
        }

        // Helper to read file as Data URL with Compression
        function readFile(file) {
            return new Promise((resolve) => {
                if (!file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = (e) => resolve(e.target.result);
                    reader.readAsDataURL(file);
                    return;
                }
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = (event) => {
                    const img = new Image();
                    img.src = event.target.result;
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        const MAX_WIDTH = 1200; const MAX_HEIGHT = 1200;
                        let width = img.width; let height = img.height;
                        if (width > height) { if (width > MAX_WIDTH) { height *= MAX_WIDTH / width; width = MAX_WIDTH; } } 
                        else { if (height > MAX_HEIGHT) { width *= MAX_HEIGHT / height; height = MAX_HEIGHT; } }
                        canvas.width = width; canvas.height = height;
                        ctx.drawImage(img, 0, 0, width, height);
                        resolve(canvas.toDataURL('image/jpeg', 0.7));
                    };
                };
            });
        }

        function loadContent(){
            const d=getStorage();
            // Home
            if(d.homeTitle)document.getElementById('home-title-display').innerHTML=d.homeTitle;
            if(d.homeIntro)document.getElementById('home-intro-text').innerHTML=d.homeIntro;
            renderHomeStats(d.stats||DEFAULT_STATS); renderAdminStats(d.stats||DEFAULT_STATS);
            
            // About
            if(d.about){
                if(d.about.profileImg) document.getElementById('about-profile-img').src=d.about.profileImg;
                if(d.about.bio) document.getElementById('about-bio-display').innerHTML=d.about.bio.replace(/\n/g,'<br>');
                if(d.about.educationBg) document.getElementById('about-education-bg').src=d.about.educationBg; 
                if(d.about.fieldBg) document.getElementById('about-field-bg').src=d.about.fieldBg;
                if(d.about.skillsBg) document.getElementById('about-skills-bg').src=d.about.skillsBg;
                if(d.about.awardsBg) document.getElementById('about-awards-bg').src=d.about.awardsBg;
                renderAboutList('education', d.about.education||[]);
                renderAboutList('field', d.about.field||[]);
                renderAboutList('skills', d.about.skills||[]);
                renderAboutList('awards', d.about.awards||[]);
                renderSimpleList('memb', d.about.memb||[]);
                renderActivityList(d.about.act||[]); 
            } else {
                document.getElementById('about-bio-display').innerHTML = "I hold dual master's degrees..."; 
            }

            // CV Download Check
            if (d.dataFiles && d.dataFiles.length > 0) {
                // Find file resembling a CV
                const cvFile = d.dataFiles.find(f => {
                    const n = f.name.toLowerCase();
                    return n.includes('cv') || n.includes('resume') || n.includes('curriculum');
                });
                
                const btn = document.getElementById('home-cv-download-btn');
                if (cvFile && btn) {
                    btn.href = cvFile.url;
                    btn.download = cvFile.name;
                }
            }

            if(d.experience)renderExperienceList(d.experience);
            if(d.projects)renderProjectList(d.projects);
            renderResearch(d.research||[]);
            renderAlbums(d.albums||[]); // New Gallery
            renderAdminAlbums(d.albums||[]);
            renderAdminData(d.dataFiles || []);

            if(d.contact){
                document.getElementById('display-email-lsu').innerText=d.contact.lsu;
                document.getElementById('display-email-personal').innerText=d.contact.personal;
                document.getElementById('display-location').innerText=d.contact.location || "Baton Rouge, LA 70803";
                document.getElementById('contact-email-lsu').value=d.contact.lsu;
                document.getElementById('contact-email-personal').value=d.contact.personal;
                document.getElementById('contact-location').value=d.contact.location || "Baton Rouge, LA 70803";
            }
        }

        // --- Gallery / Albums Logic ---
        function renderAlbums(albums) {
            const grid = document.getElementById('gallery-grid');
            if(!albums || albums.length === 0) {
                grid.innerHTML = '<p class="text-center w-full text-textMuted pt-10">No albums yet.</p>';
                return;
            }
            grid.innerHTML = albums.map((alb, idx) => `
                <div class="gallery-strip h-full relative cursor-pointer group overflow-hidden rounded-2xl flex-1 shadow-md hover:shadow-xl" onclick="openAlbumPage(${idx})">
                    <img src="${alb.cover}" class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                    <div class="absolute inset-0 bg-black/30 group-hover:bg-black/10 transition-colors"></div>
                    <div class="absolute bottom-6 left-0 w-full text-center text-white px-2">
                        <h3 class="font-display text-2xl font-bold drop-shadow-md group-hover:-translate-y-2 transition-transform">${alb.title}</h3>
                        <p class="text-xs opacity-0 group-hover:opacity-100 transition-opacity translate-y-4 group-hover:translate-y-0 text-white/90 font-bold uppercase tracking-wider">View Album</p>
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        // NEW: Public Album Page Logic (Redirect, not Modal)
        function openAlbumPage(idx) {
            let d = getStorage();
            const alb = d.albums[idx];
            document.getElementById('album-viewer').classList.remove('hidden');
            document.getElementById('album-view-title').innerText = alb.title;
            const grid = document.getElementById('album-view-grid');
            grid.innerHTML = '';
            
            if(alb.images && alb.images.length > 0) {
                alb.images.forEach(url => {
                    grid.innerHTML += `<div class="h-64 rounded-2xl overflow-hidden shadow-md hover:scale-105 transition-transform"><img src="${url}" class="w-full h-full object-cover"></div>`;
                });
            } else {
                grid.innerHTML = "<p>No photos in this album.</p>";
            }
            lucide.createIcons();
        }

        function closeAlbumPage() {
            document.getElementById('album-viewer').classList.add('hidden');
        }

        function renderAdminAlbums(albums) {
            const list = document.getElementById('admin-album-list');
            list.innerHTML = albums.map((alb, idx) => `
                <div class="bg-white p-3 rounded-xl border border-gray-200">
                    <div class="flex items-center gap-4 mb-3">
                        <div class="w-12 h-12 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100"><img src="${alb.cover}" class="w-full h-full object-cover"></div>
                        <div class="flex-grow">
                            <h5 class="font-bold text-sm">${alb.title}</h5>
                            <p class="text-xs text-textMuted">${alb.images ? alb.images.length : 0} photos</p>
                        </div>
                        <button onclick="toggleAlbumEdit(${idx})" class="text-gisPurple hover:bg-gisPurple/10 p-2 rounded">Manage Photos</button>
                        <button onclick="deleteAlbum(${idx})" class="text-red-500 hover:bg-red-50 p-2 rounded"><i data-lucide="trash" class="w-4 h-4"></i></button>
                    </div>
                    <div id="album-edit-${idx}" class="hidden pl-4 border-l-2 border-gisPurple">
                        <div class="grid grid-cols-4 gap-2 mb-2">
                             ${alb.images ? alb.images.map((img, pIdx) => `
                                <div class="relative group h-16 w-16 rounded overflow-hidden">
                                    <img src="${img}" class="w-full h-full object-cover">
                                    <button onclick="deletePhotoFromAlbum(${idx}, ${pIdx})" class="absolute inset-0 bg-black/50 text-white opacity-0 group-hover:opacity-100 flex items-center justify-center font-bold">x</button>
                                </div>
                             `).join('') : ''}
                        </div>
                        <div class="mt-2">
                            <label class="text-xs font-bold text-gisPurple cursor-pointer hover:underline">+ Add Single Photo <input type="file" class="hidden" accept="image/*" onchange="addPhotoToAlbum(${idx}, this)"></label>
                        </div>
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function toggleAlbumEdit(idx) {
            const el = document.getElementById(`album-edit-${idx}`);
            el.classList.toggle('hidden');
        }

        async function addPhotoToAlbum(albumIdx, input) {
            if(!input.files[0]) return;
            const url = await readFile(input.files[0]);
            let d = getStorage();
            if(!d.albums[albumIdx].images) d.albums[albumIdx].images = [];
            d.albums[albumIdx].images.push(url);
            setStorage(d);
            loadContent();
        }

        function deletePhotoFromAlbum(albumIdx, photoIdx) {
            let d = getStorage();
            d.albums[albumIdx].images.splice(photoIdx, 1);
            setStorage(d);
            loadContent();
        }

        async function addNewAlbum() {
            const title = document.getElementById('new-album-title').value;
            const coverFile = document.getElementById('new-album-cover').files[0];

            if(!title || !coverFile) { alert("Title and Cover Photo required"); return; }

            const coverUrl = await readFile(coverFile);

            let d = getStorage();
            if(!d.albums) d.albums = [];
            d.albums.push({ title, cover: coverUrl, images: [] });
            setStorage(d);
            loadContent();
            
            // Clear inputs
            document.getElementById('new-album-title').value = '';
            document.getElementById('new-album-cover').value = '';
        }

        function deleteAlbum(idx) {
            let d = getStorage();
            d.albums.splice(idx, 1);
            setStorage(d);
            loadContent();
        }
        
        // --- Data Handling ---
        function renderAdminData(files) {
            const list = document.getElementById('admin-data-list');
            if (!files || files.length === 0) {
                list.innerHTML = '<p class="text-xs text-textMuted italic col-span-full">No files uploaded.</p>';
                return;
            }
            list.innerHTML = files.map((f, idx) => `
                <div class="relative bg-gisBlue text-white p-4 rounded-xl flex flex-col items-center justify-center text-center shadow-md hover:shadow-lg transition-all h-24 group">
                    <h5 class="font-bold text-sm truncate w-full mb-1">${f.name}</h5>
                    <a href="${f.url}" download="${f.name}" class="text-xs bg-white/20 hover:bg-white/30 px-3 py-1 rounded-full backdrop-blur-sm transition-colors flex items-center gap-1">
                        <i data-lucide="download" class="w-3 h-3"></i> Download
                    </a>
                    <button onclick="deleteDataFile(${idx})" class="absolute top-1 right-1 text-white/70 hover:text-white p-1 opacity-0 group-hover:opacity-100 transition-opacity"><i data-lucide="x" class="w-4 h-4"></i></button>
                </div>
            `).join('');
            lucide.createIcons();
        }

        async function handleDataUpload(input) {
            const file = input.files[0];
            if (!file) return;
            const size = (file.size / 1024).toFixed(1) + ' KB';
            // Use readFile which handles text/binary without image compression check for data
            // We use the same helper but for non-images it just reads as DataURL
            const url = await readFile(file);
            
            let d = getStorage();
            if (!d.dataFiles) d.dataFiles = [];
            
            // New logic: Unshift to put on top. If name contains "CV", sort to top.
            d.dataFiles.unshift({ name: file.name, size: size, url: url });
            
            d.dataFiles.sort((a, b) => {
                const aIsCV = a.name.toLowerCase().includes('cv');
                const bIsCV = b.name.toLowerCase().includes('cv');
                if (aIsCV && !bIsCV) return -1;
                if (!aIsCV && bIsCV) return 1;
                return 0; 
            });

            setStorage(d);
            loadContent();
            input.value = '';
        }

        function deleteDataFile(idx) {
            let d = getStorage();
            d.dataFiles.splice(idx, 1);
            setStorage(d);
            loadContent();
        }


        // --- Contact Saving ---
        function saveContact() {
            let d = getStorage();
            d.contact = {
                lsu: document.getElementById('contact-email-lsu').value,
                personal: document.getElementById('contact-email-personal').value,
                location: document.getElementById('contact-location').value
            };
            setStorage(d);
            loadContent();
            alert("Contact Updated!");
        }

        // --- Existing Helpers & Renders ---
        function renderHomeStats(s){document.getElementById('home-stats-grid').innerHTML=s.map(i=>`<div class="glass-panel p-6 rounded-2xl border-l-4 border-${i.color} relative overflow-hidden"><img src="${i.img}" class="absolute inset-0 w-full h-full object-cover opacity-25"><div class="relative z-10"><span class="text-xs font-bold uppercase text-textMuted">${i.title}</span><div class="text-3xl font-bold">${i.val} <span class="text-sm">${i.desc}</span></div></div></div>`).join('');}
        function renderAdminStats(s){document.getElementById('admin-stats-list').innerHTML=s.map((i,x)=>`<div class="bg-white/50 p-2 rounded flex justify-between items-center text-sm"><span>${i.title}</span><button onclick="deleteStat(${x})" class="text-red-500">x</button></div>`).join('');}
        
        function renderExperienceList(e){
            const colors = ['gisGreen', 'gisBlue', 'gisOrange', 'gisPink', 'gisPurple'];
            document.getElementById('work-list-display').innerHTML=e.map((i, idx) => {
                const color = colors[idx % colors.length];
                return `<div class="glass-panel p-8 rounded-3xl border-l-4 border-${color} relative hover-card overflow-hidden"><div class="flex flex-col md:flex-row justify-between items-start mb-4"><div><h3 class="font-display text-2xl font-bold text-textMain">${i.role}</h3><p class="text-${color} font-bold text-lg">${i.org}</p></div><span class="inline-block text-sm font-mono text-textMain bg-white/50 px-4 py-1.5 rounded-full shadow-sm border border-gray-100 mt-2 md:mt-0">${i.date}</span></div><div class="text-textMuted leading-relaxed">${i.desc ? `<ul class="list-disc list-outside ml-5 space-y-1 marker:text-${color}">${i.desc.split('\n').filter(line => line.trim() !== '').map(line => `<li>${line}</li>`).join('')}</ul>` : ''}</div></div>`;
            }).join('');
            document.getElementById('admin-exp-list').innerHTML=e.map((i,x)=>`<div class="bg-white p-2 rounded flex justify-between items-center text-sm"><span><b>${i.role}</b> at ${i.org}</span><button onclick="deleteExp(${x})" class="text-red-500 font-bold px-2">x</button></div>`).join('');
        }

        function renderProjectList(p) {
            const listContainer = document.getElementById('projects-list-display');
            listContainer.innerHTML = '';
            if (!p || p.length === 0) { listContainer.innerHTML = '<p class="text-center text-textMuted">No projects added yet.</p>'; return; }
            const featured = p[0];
            const featuredHTML = `<div class="col-span-full glass-panel rounded-3xl overflow-hidden border-t-4 border-gisBlue hover-card group relative cursor-pointer mb-12" onclick="showProjectDetailsDynamic(0)"><div class="grid grid-cols-1 lg:grid-cols-2 gap-0"><div class="h-80 lg:h-auto relative overflow-hidden"><img src="${featured.img}" class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"><span class="absolute top-6 left-6 bg-gisBlue text-white text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider shadow-lg">Featured Project</span></div><div class="p-8 lg:p-12 flex flex-col justify-center"><h3 class="font-display text-4xl font-bold text-textMain mb-4">${featured.title}</h3><p class="text-textMuted mb-6 text-lg leading-relaxed line-clamp-3">${featured.shortDesc || ''}</p><div class="flex flex-wrap gap-2 mb-8">${featured.tags ? featured.tags.map(t => `<span class="px-3 py-1 bg-gisBlue/10 text-gisBlue text-xs font-bold rounded-lg">${t}</span>`).join('') : ''}</div><button class="text-gisBlue font-bold flex items-center gap-2 group-hover:gap-3 transition-all text-lg">View Full Details <i data-lucide="arrow-right" class="w-5 h-5"></i></button></div></div></div>`;
            let gridHTML = '<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">';
            const colors = ['gisGreen', 'gisPink', 'gisPurple', 'gisOrange', 'gisBlue'];
            for (let i = 1; i < p.length; i++) {
                const proj = p[i]; const color = colors[(i - 1) % colors.length]; const pillClass = `bg-${color}/10 text-${color}`;
                gridHTML += `<div class="glass-panel rounded-2xl overflow-hidden border-b-4 border-${color} hover-card group relative cursor-pointer flex flex-col h-full" onclick="showProjectDetailsDynamic(${i})"><div class="h-48 relative overflow-hidden flex-shrink-0"><img src="${proj.img}" class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"></div><div class="p-6 flex flex-col flex-grow"><h3 class="font-display text-xl font-bold text-textMain mb-3 line-clamp-2">${proj.title}</h3><p class="text-textMuted text-sm mb-4 line-clamp-3 flex-grow">${proj.shortDesc || ''}</p><div class="flex flex-wrap gap-2 mb-4">${proj.tags ? proj.tags.slice(0,3).map(t => `<span class="px-2 py-1 ${pillClass} text-[10px] font-bold rounded shadow-sm uppercase tracking-wide">${t}</span>`).join('') : ''}</div><button class="text-${color} font-bold flex items-center gap-2 text-sm mt-auto group-hover:gap-3 transition-all">View More <i data-lucide="arrow-right" class="w-4 h-4"></i></button></div></div>`;
            }
            gridHTML += '</div>';
            listContainer.innerHTML = featuredHTML + gridHTML;
            document.getElementById('admin-proj-list').innerHTML=p.map((i,x)=>`<div class="bg-white p-2 rounded flex justify-between"><span>${i.title}</span><button onclick="deleteProj(${x})" class="text-red-500">x</button></div>`).join('');
            lucide.createIcons();
        }

        function renderResearch(items) {
            const books = items.filter(i => i.type === 'book');
            const journals = items.filter(i => i.type === 'journal');
            const confs = items.filter(i => i.type === 'conference');
            document.getElementById('pub-books').innerHTML = books.map(b => `<div class="glass-panel p-8 rounded-2xl relative border-l-4 border-gisGreen"><span class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gisGreen/10 text-gisGreen font-bold text-xs uppercase mb-4"><i data-lucide="book" class="w-3 h-3"></i> Book Review</span><h4 class="text-xl font-bold text-textMain mb-2">${b.title}</h4><p class="text-textMuted text-sm italic mb-4">${b.subtitle}</p><div class="p-4 bg-gray-50 rounded-xl border border-gray-100"><p class="text-sm text-textMuted font-medium leading-relaxed">${b.citation}</p></div></div>`).join('');
            const colors = ['gisBlue', 'gisPurple'];
            document.getElementById('pub-journals').innerHTML = journals.map((j, idx) => {
                const col = colors[idx % colors.length];
                return `<div class="group glass-panel p-8 rounded-2xl hover:bg-white hover:shadow-lg transition-all cursor-pointer border-l-4 border-${col}"><div class="flex justify-between items-start"><div><span class="text-${col} font-mono text-xs font-bold mb-2 block uppercase tracking-wide">${j.year}  ${j.journalType}</span><h4 class="text-xl font-bold text-textMain group-hover:text-${col} transition-colors">${j.title}</h4><p class="text-textMuted text-sm mt-3 max-w-2xl font-medium">${j.desc}</p></div>${j.link ? `<a href="${j.link}" target="_blank" class="p-2 rounded-full bg-gray-50 group-hover:bg-${col}/10 transition-colors"><i data-lucide="external-link" class="text-textMuted group-hover:text-${col} w-5 h-5"></i></a>` : ''}</div></div>`;
            }).join('');
            const confColors = ['gisPink', 'gisGreen', 'gisBlue', 'gisOrange'];
            document.getElementById('pub-conferences').innerHTML = confs.map((c, idx) => {
                const col = confColors[idx % confColors.length];
                return `<div class="glass-panel p-6 rounded-xl hover:bg-white transition-all border-l-4 border-${col}"><span class="text-xs font-bold text-${col} block mb-2">${c.place}</span><h4 class="font-bold text-textMain">${c.title}</h4><p class="text-sm text-textMuted mt-1">${c.desc}</p></div>`;
            }).join('');
            document.getElementById('admin-res-list').innerHTML = items.map((i, idx) => `<div class="bg-white p-2 rounded flex justify-between items-center text-xs mb-1 border-l-4 border-gray-300"><div><b class="uppercase text-[10px] text-gray-500 mr-2">${i.type}</b> ${i.title}</div><button onclick="deleteResearchItem(${idx})" class="text-red-500 font-bold hover:text-red-700">x</button></div>`).join('');
            lucide.createIcons();
        }

        // --- Other functions from previous implementation remain ---
        function toggleResInputs() { const type = document.getElementById('res-type').value; ['book', 'journal', 'conference'].forEach(t => document.getElementById(`res-inputs-${t}`).classList.add('hidden')); document.getElementById(`res-inputs-${type}`).classList.remove('hidden'); }
        function addResearchItem() {
            const type = document.getElementById('res-type').value; let item = { type };
            if (type === 'book') { item.title = document.getElementById('res-book-title').value; item.subtitle = document.getElementById('res-book-subtitle').value; item.citation = document.getElementById('res-book-citation').value; }
            else if (type === 'journal') { item.title = document.getElementById('res-jour-title').value; item.year = document.getElementById('res-jour-year').value; item.journalType = document.getElementById('res-jour-type').value; item.desc = document.getElementById('res-jour-desc').value; item.link = document.getElementById('res-jour-link').value; }
            else if (type === 'conference') { item.title = document.getElementById('res-conf-title').value; item.place = document.getElementById('res-conf-place').value; item.desc = document.getElementById('res-conf-desc').value; }
            if (!item.title) { alert('Title is required'); return; }
            let d = getStorage(); if (!d.research) d.research = []; d.research.push(item); setStorage(d); loadContent();
            // clear inputs...
        }
        function deleteResearchItem(idx) { let d = getStorage(); d.research.splice(idx, 1); setStorage(d); loadContent(); }
        
        function renderAboutList(type, list) {
            const adminDiv = document.getElementById(`admin-${type}-list`);
            const publicDiv = document.getElementById(`about-${type}-list`);
            adminDiv.innerHTML = list.map((item, idx) => `<div class="flex justify-between bg-white p-2 rounded text-sm mb-1"><span>${item.title || item.degree || item.category}</span><button onclick="deleteAboutItem('${type}', ${idx})" class="text-red-500 font-bold">x</button></div>`).join('');
            if(type === 'education') publicDiv.innerHTML = list.map(item => `<div class="relative pl-6 border-l-2 border-gisBlue"><div class="absolute -left-[5px] top-1.5 w-2 h-2 rounded-full bg-gisBlue"></div><div class="font-bold text-lg">${item.degree}</div><div class="text-textMuted">${item.inst} (${item.year})</div></div>`).join('');
            else if (type === 'field') publicDiv.innerHTML = list.map(item => `<div class="bg-white/50 p-4 rounded-xl border border-white/60"><div class="flex items-center gap-2 mb-2"><i data-lucide="compass" class="text-gisOrange w-5 h-5"></i><span class="font-bold">${item.title}</span></div><div class="flex flex-wrap gap-2 mt-2">${item.tags.split(',').map(tag => `<span class="px-2 py-1 bg-white text-textMuted rounded border border-gray-200 text-xs font-bold shadow-sm">${tag.trim()}</span>`).join('')}</div></div>`).join('');
            else if (type === 'skills') publicDiv.innerHTML = list.map(item => `<div><h5 class="text-sm font-bold text-textMuted uppercase mb-2">${item.category}</h5><div class="flex flex-wrap gap-2">${item.list.split(',').map(s=>`<span class="px-3 py-1 bg-white text-gisPurple rounded-lg text-sm border shadow-sm">${s.trim()}</span>`).join('')}</div></div>`).join('');
            else if (type === 'awards') publicDiv.innerHTML = list.map(item => `<div class="flex items-start gap-3"><div class="mt-1 p-1 bg-gisGreen/10 rounded-full"><i data-lucide="star" class="w-4 h-4 text-gisGreen"></i></div><div><div class="font-bold">${item.title}</div><div class="text-sm text-textMuted">${item.desc}</div></div></div>`).join('');
            lucide.createIcons();
        }
        function renderSimpleList(type, list) {
            document.getElementById(`admin-${type}-list`).innerHTML = list.map((item, idx) => `<div class="flex justify-between text-xs bg-gray-50 p-1 mb-1"><span>${item}</span><button onclick="deleteSimpleList('${type}', ${idx})" class="text-red-500">x</button></div>`).join('');
            document.getElementById(`about-${type}-list`).innerHTML = list.map(item => `<li class="flex items-start gap-3"><div class="mt-1.5 w-1.5 h-1.5 rounded-full bg-current shrink-0"></div><span class="text-textMuted text-sm">${item}</span></li>`).join('');
        }
        function renderActivityList(list) {
            document.getElementById('admin-act-list').innerHTML = list.map((item, idx) => `<div class="flex justify-between text-xs bg-gray-50 p-1 mb-1"><span>${item.title}</span><button onclick="deleteActivityItem(${idx})" class="text-red-500">x</button></div>`).join('');
            document.getElementById('about-act-list').innerHTML = list.map(item => `<li class="pl-4 border-l-2 border-gisPink/30 pb-2 last:pb-0"><div class="font-bold text-textMain text-sm">${item.title}</div><div class="text-xs text-textMuted mt-0.5">${item.desc}</div></li>`).join('');
        }

        // ... Previous Save/Add functions for About, Experience, Projects ...
        function saveAboutProfile() { let d = getStorage(); if(!d.about) d.about={}; d.about.bio = document.getElementById('about-edit-area').value; setStorage(d); loadContent(); alert('Profile Saved'); }
        function previewProfileImg(input) { const f = input.files[0]; if(!f)return; readFile(f).then(url => { document.getElementById('admin-profile-prev').src = url; let d = getStorage(); if(!d.about) d.about={}; d.about.profileImg = url; setStorage(d); loadContent(); }); }
        function saveSectionBg(sec, input) { const f = input.files[0]; if(!f)return; readFile(f).then(url => { let d = getStorage(); if(!d.about) d.about={}; d.about[sec+'Bg'] = url; setStorage(d); loadContent(); }); }
        
        function addAboutItem(type) { /* ... same as previous ... */ let d = getStorage(); if(!d.about) d.about={}; if(!d.about[type]) d.about[type]=[]; let item={}; if(type==='education'){item={degree:document.getElementById('new-edu-deg').value,inst:document.getElementById('new-edu-inst').value,year:document.getElementById('new-edu-year').value};} if(type==='field'){item={title:document.getElementById('new-field-title').value,tags:document.getElementById('new-field-tags').value};} if(type==='skills'){item={category:document.getElementById('new-skill-cat').value,list:document.getElementById('new-skill-list').value};} if(type==='awards'){item={title:document.getElementById('new-award-title').value,desc:document.getElementById('new-award-desc').value};} d.about[type].push(item); setStorage(d); loadContent(); }
        function deleteAboutItem(type, idx) { let d = getStorage(); d.about[type].splice(idx, 1); setStorage(d); loadContent(); }
        
        function addSimpleList(type) { let d = getStorage(); if(!d.about) d.about={}; if(!d.about[type]) d.about[type]=[]; d.about[type].push(document.getElementById('new-'+type).value); setStorage(d); loadContent(); document.getElementById('new-'+type).value=''; }
        function deleteSimpleList(type, idx) { let d = getStorage(); d.about[type].splice(idx, 1); setStorage(d); loadContent(); }
        function addActivityItem() { let d = getStorage(); if(!d.about) d.about={}; if(!d.about.act) d.about.act=[]; const ti = document.getElementById('new-act-title'); const de = document.getElementById('new-act-desc'); if(ti.value) { d.about.act.push({ title: ti.value, desc: de.value }); setStorage(d); loadContent(); ti.value=''; de.value=''; } }
        function deleteActivityItem(idx) { let d = getStorage(); d.about.act.splice(idx, 1); setStorage(d); loadContent(); }
        
        function addNewExp() { /* ... same ... */ const role=document.getElementById('new-exp-role').value; const org=document.getElementById('new-exp-org').value; const date=document.getElementById('new-exp-date').value; const desc=document.getElementById('new-exp-desc').value; if(!role || !org){alert('Role/Org required');return;} let d=getStorage(); if(!d.experience)d.experience=[]; d.experience.push({role,org,date,desc}); setStorage(d); loadContent(); }
        function deleteExp(idx) { let d = getStorage(); d.experience.splice(idx, 1); setStorage(d); loadContent(); }

        // Project Modals
        function showProjectDetailsDynamic(idx) {
            let data = getStorage();
            if(!data.projects || !data.projects[idx]) return;
            const p = data.projects[idx];
            document.getElementById('modal-title').innerText = p.title; 
            document.getElementById('modal-img').src = p.img; 
            document.getElementById('modal-desc').innerHTML = p.longDesc || p.shortDesc || "No details available."; 
            const tagContainer = document.getElementById('modal-tags');
            tagContainer.innerHTML = '';
            if(p.tags && p.tags.length) { p.tags.forEach(t => { tagContainer.innerHTML += `<span class="px-2 py-1 bg-white/20 backdrop-blur border border-white/40 text-white text-xs font-bold rounded shadow-sm">${t}</span>`; }); }
            const galleryContainer = document.getElementById('modal-gallery');
            galleryContainer.innerHTML = '';
            document.getElementById('gallery-header').innerText = "Project Gallery";
            if(p.gallery && p.gallery.length) { p.gallery.forEach(url => { galleryContainer.innerHTML += `<div class="h-40 rounded-xl overflow-hidden shadow-sm"><img src="${url}" class="w-full h-full object-cover"></div>`; }); } 
            else { galleryContainer.innerHTML = `<p class="text-xs text-textMuted col-span-full">No gallery images uploaded.</p>`; }
            document.getElementById('project-modal').classList.add('open');
        }
        function closeProjectModal(){document.getElementById('project-modal').classList.remove('open');}

        document.addEventListener('DOMContentLoaded', ()=>{if(!document.querySelector('.page-view.active'))navigateTo('home'); loadContent();});
        document.getElementById('password-input').addEventListener('keypress', function (e) { if (e.key === 'Enter') checkPassword(); });
    </script>
</body>
</html>
